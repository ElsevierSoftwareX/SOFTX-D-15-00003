<HTML>
<HEAD>
  <TITLE>gmx rotmat</TITLE>
  <LINK rel=stylesheet href="../online/style.css" type="text/css">
</HEAD>
<BODY text="#000000" bgcolor="#FFFFFF" link="#0000FF" vlink="#990000" alink="#FF0000">
  <TABLE WIDTH="98%%">
    <TR>
      <TD WIDTH="116" ROWSPAN="2">
        <A HREF="http://www.gromacs.org/"><IMG SRC="../images/gmxlogo_small.jpg" BORDER=0></A>
      </TD>
      <TD ALIGN="LEFT" VALIGN="CENTER" COLSPAN="2">
        <H2>gmx rotmat</H2>
      </TD>
    </TR>
    <TR>
      <TD>
        <FONT SIZE="-1"><A HREF="../online.html">Main Table of Contents</A></FONT>
      </TD>
      <TD ALIGN="RIGHT" VALIGN="BOTTOM">
        <B>VERSION 5.0.5</B>
      </TD>
  </TR>
</TABLE>
  <HR>

<H3>Synopsis</H3>
<pre>
gmx rotmat [-f [<.xtc/.trr/...>]] [-s [<.tpr/.tpb/...>]] [-n [<.ndx>]]
           [-o [<.xvg>]] [-nice <int>] [-b <time>] [-e <time>] [-dt <time>]
           [-[no]w] [-xvg <enum>] [-ref <enum>] [-skip <int>] [-[no]fitxy]
           [-[no]mw]
</pre>

<H3>Description</H3>
<tt>gmx rotmat</tt> plots the rotation matrix required for least squares fitting a conformation onto the reference conformation provided with <tt>-s</tt>. Translation is removed before fitting. The output are the three vectors that give the new directions of the x, y and z directions of the reference conformation, for example: (zx,zy,zz) is the orientation of the reference z-axis in the trajectory frame. <p> This tool is useful for, for instance, determining the orientation of a molecule at an interface, possibly on a trajectory produced with <tt>gmx trjconv -fit rotxy+transxy</tt> to remove the rotation in the <it>x-y</it> plane. <p> Option <tt>-ref</tt> determines a reference structure for fitting, instead of using the structure from <tt>-s</tt>. The structure with the lowest sum of RMSD's to all other structures is used. Since the computational cost of this procedure grows with the square of the number of frames, the <tt>-skip</tt> option can be useful. A full fit or only a fit in the <it>x-y</it> plane can be performed. <p> Option <tt>-fitxy</tt> fits in the <it>x-y</it> plane before determining the rotation matrix.

<H3>Options</H3>
Options to specify input and output files:<p>
<dl>
<dt><b><tt>-f</tt></b> [&lt;.<a href="../online/xtc.html">xtc</a>/.<a href="../online/trr.html">trr</a>/...&gt;] (traj.<a href="../online/xtc.html">xtc</a>) (Input)</dt>
<dd>
Trajectory: <a href="../online/xtc.html">xtc</a> <a href="../online/trr.html">trr</a> <a href="../online/cpt.html">cpt</a> <a href="../online/trj.html">trj</a> <a href="../online/gro.html">gro</a> <a href="../online/g96.html">g96</a> <a href="../online/pdb.html">pdb</a> <a href="../online/tng.html">tng</a>
</dd>
<dt><b><tt>-s</tt></b> [&lt;.<a href="../online/tpr.html">tpr</a>/.<a href="../online/tpb.html">tpb</a>/...&gt;] (topol.<a href="../online/tpr.html">tpr</a>) (Input)</dt>
<dd>
Structure+mass(db): <a href="../online/tpr.html">tpr</a> <a href="../online/tpb.html">tpb</a> <a href="../online/tpa.html">tpa</a> <a href="../online/gro.html">gro</a> <a href="../online/g96.html">g96</a> <a href="../online/pdb.html">pdb</a> brk ent
</dd>
<dt><b><tt>-n</tt></b> [&lt;.<a href="../online/ndx.html">ndx</a>&gt;] (index.<a href="../online/ndx.html">ndx</a>) (Input, Optional)</dt>
<dd>
Index file
</dd>
<dt><b><tt>-o</tt></b> [&lt;.<a href="../online/xvg.html">xvg</a>&gt;] (rotmat.<a href="../online/xvg.html">xvg</a>) (Output)</dt>
<dd>
xvgr/xmgr file
</dd>
</dl>

Other options:<p>
<dl>
<dt><b><tt>-nice</tt></b> &lt;int&gt; (19)</dt>
<dd>
Set the nicelevel
</dd>
<dt><b><tt>-b</tt></b> &lt;time&gt; (0)</dt>
<dd>
First frame (ps) to read from trajectory
</dd>
<dt><b><tt>-e</tt></b> &lt;time&gt; (0)</dt>
<dd>
Last frame (ps) to read from trajectory
</dd>
<dt><b><tt>-dt</tt></b> &lt;time&gt; (0)</dt>
<dd>
Only use frame when t MOD dt = first time (ps)
</dd>
<dt><b><tt>-[no]w</tt></b> (no)</dt>
<dd>
View output <tt>.<a href="../online/xvg.html">xvg</a></tt>, <tt>.<a href="../online/xpm.html">xpm</a></tt>, <tt>.<a href="../online/eps.html">eps</a></tt> and <tt>.<a href="../online/pdb.html">pdb</a></tt> files
</dd>
<dt><b><tt>-xvg</tt></b> &lt;enum&gt; (xmgrace)</dt>
<dd>
<a href="../online/xvg.html">xvg</a> plot formatting: xmgrace, xmgr, none
</dd>
<dt><b><tt>-ref</tt></b> &lt;enum&gt; (none)</dt>
<dd>
Determine the optimal reference structure: none, xyz, xy
</dd>
<dt><b><tt>-skip</tt></b> &lt;int&gt; (1)</dt>
<dd>
Use every nr-th frame for <tt>-ref</tt>
</dd>
<dt><b><tt>-[no]fitxy</tt></b> (no)</dt>
<dd>
Fit the x/y rotation before determining the rotation
</dd>
<dt><b><tt>-[no]mw</tt></b> (yes)</dt>
<dd>
Use mass weighted fitting
</dd>
</dl>


<P>
<HR>
<DIV ALIGN=RIGHT><FONT SIZE="-1">
<A HREF="http://www.gromacs.org">http://www.gromacs.org</A><BR>
</FONT></DIV>
</BODY>
</HTML>
